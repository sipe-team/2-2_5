# 12장 - 메소드(함수): 좋은 클래스에는 좋은 메서드가 있다

## 12.1 반드시 현재 클래스의 인스턴스 변수 사용하기

- 인스턴스 변수를 안전하게 조작하도록 메스드를 설계하면 클래스 내부가 정상적인 상태인지 보장할 수 있음
- 방법: 완전 생성자 패턴 + 가드

## 12.2 불변을 활용해서 예상할 수 있는 메소드 만들기

- 가변 인스턴스 변수 등을 변경하는 메서드는 예상치 못한 동작 가능성 존재, 유지 보수가 어려움

## 12.3 묻지 말고 명령하라

- 메서드를 호출하는 쪽에서는 복잡한 처리를 하지 않는 것이 좋음
    - 반면 다른 클래스를 확인하고 조작하는 메서드 구조는 응집도가 낮음
    - 단순한 getter, setter는 값을 마음대로 변경할 수 있으므로 캡슐화가 아님, 오히려 클래스를 확인하고 조작하는 구조에서 보기 쉬움
    

## 12.4 커맨드/쿼리 분리

커맨드 쿼리 분리 패턴: 메서드는 커맨드 또는 쿼리 중에 하나만 하도록 설계해야 한다는 패턴

| 메서드 종류 구분 | 설명 |
| --- | --- |
| 커맨드 | 상태를 변경하는 것 |
| 쿼리 | 상태를 리턴하는 것 |
| 모디파이어 | 커맨드와 쿼리를 동시에 하는 것 |

## 12.5 매개변수

매개변수 설계 시 주의 사항. 이미 이전 장에서 다 다룬 내용들이다.

- 불변 매개변수로 만들기.
- 플래그 매개변수 사용하지 않기
- null 전달하지 않기
- 출력 매개변수 사용하지 않기
- 매개변수는 최대한 적게 사용하기

## 12.6 리턴 값

리턴 값 설계 주의 사항

- null을 리턴하지 말자
- 독자적인 자료형을 사용해서 의도를 명확하게 나타내고 매개변수를 잘못 전달하는 실수를 줄이자.
    
    ```python
    # 수정 전
    int price = productPrice.add(otherPrice);
    int discountedPrice = calDiscountedPrice(price);
    
    # 수정 후
    Price price = productPrice.add(otherPrice);
    DiscountedPrice discountedPrice = calDiscountedPrice(price);
    ```
    
- 오류는 리턴 값으로 리턴하지 말고 예외 발생시키자
    - 오류일 때 -1을 리턴한다면 호출하는 쪽에서 이 내용을 알아야만 함
